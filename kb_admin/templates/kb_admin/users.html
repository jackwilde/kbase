{% extends 'kb_admin/base.html' %}
{% load custom_tags %}

{% block admin-title %}Users{% endblock %}

{% block admin-header %}
    <h1 class="fs-3 fw-light mb-0">All Users</h1>
    <a href="{% url 'admin-dashboard' %}" class="btn btn-purple">Admin Dashboard</a>
{% endblock %}

{% block admin-content %}
    <table class="table table-hover">
        <thead class="bg-purple">
        <tr>
            <th scope="col">Full name</th>
            <th scope="col">Email address</th>
            <th scope="col">Admin</th>
            <th scope="col">Last login</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr onclick="window.location.href='{% url 'user-detail' pk=user.pk %}'" class="cursor-pointer">
                <td>{{ user.full_name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.is_admin }}</td>
                <td>{{ user.last_login }}</td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="4">
                    No users yet.
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
